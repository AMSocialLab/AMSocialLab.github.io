const translations = {
  ar: {
    title: "AM Social Lab — تعاون إبداعي وتقني",
    description: "AM Social Lab — هندسة قائمة على التصميم وفرق عمل تعاونية.",
    services: "خدماتنا",
    work: "أعمالنا",
    "work-title": "أعمالنا",
    "work-subtitle": "مجموعة من المشاريع التي نفخر بها.",
    "design-work-title": "اعمالنا في التصميم",
    "design-work-subtitle": "مجموعة من اعمالنا التي نفخر بها.",
    process: "منهجيتنا",
    "start-project": "ابدأ مشروع",
    "hero-h1": "نحن نبني منتجات رقمية عندما يتقاطع التصميم والهندسة",
    "hero-description":
      "AM Social Lab هو استوديو تقني إبداعي يشارك الشركات الناشئة والفرق القائمة لتصميم وبناء وتوسيع تجارب رقمية استثنائية.",
    "view-work": "شاهد أعمالنا",
    "projects-dashboard": "لوحة تحكم المشاريع",
    satisfaction: "رضا العملاء",
    "projects-count": "المشاريع",
    support: "الدعم",
    "our-services": "خدماتنا",
    "product-design": "تصميم المنتجات",
    "product-design-desc":
      "تصميم متكامل للمنتج من بحث المستخدم إلى النماذج الأولية عالية الدقة وأنظمة التصميم.",
    figma: "Figma",
    prototyping: "النماذج الأولية",
    "design-systems": "أنظمة التصميم",
    "frontend-engineering": "هندسة الواجهات الأمامية",
    "frontend-engineering-desc":
      "تطبيقات React جاهزة للإنتاج مع تحسين الأداء وأحدث الأدوات.",
    react: "React",
    "next-js": "Next.js",
    typescript: "TypeScript",
    "technical-strategy": "الاستراتيجية التقنية",
    "technical-strategy-desc":
      "تخطيط البنية، واختيار مجموعة التقنيات، والاستشارات لمنتجات مرحلة النمو.",
    architecture: "هندسة البرمجيات",
    scalability: "قابلية التوسع",
    devops: "DevOps",
    "featured-projects": "مشاريع مميزة",
    "nexus-platform": "منصة Nexus",
    "nexus-platform-desc":
      "منصة SaaS شاملة لتصور البيانات مع ميزات التعاون في الوقت الفعلي.",
    webgl: "WebGL",
    "real-time": "الوقت الفعلي",
    "flow-finance": "Flow Finance",
    "flow-finance-desc":
      "تطبيق مصرفي للهاتف المحمول أولاً مع ميزات أمان متقدمة وتجربة مستخدم سهلة.",
    "react-native": "React Native",
    security: "الأمان",
    fintech: "FinTech",
    "view-case-study": "عرض دراسة الحالة",
    "our-process": "منهجيتنا",
    discover: "اكتشاف",
    "discover-desc": "الغوص في أهداف عملك والمستخدمين والقيود التقنية.",
    design: "تصميم",
    "design-desc":
      "إنشاء تدفقات المستخدم، والإطارات السلكية، والنماذج الأولية التفاعلية.",
    develop: "تطوير",
    "develop-desc":
      "البناء بتقنيات حديثة، باتباع أفضل الممارسات والمنهجيات الرشيقة.",
    deliver: "تسليم",
    "deliver-desc": "الاختبار الشامل والنشر والتحسين المستمر.",
    "cta-title": "هل أنت مستعد لبناء شيء استثنائي؟",
    "cta-description":
      "دعنا نناقش مشروعك ونستكشف كيف يمكننا تحقيق رؤيتك بتميز تقني وإبداع.",
    "start-conversation": "ابدأ محادثة",
    "get-in-touch": "تواصل معنا",
    "your-name": "اسمك",
    "email-address": "البريد الإلكتروني",
    "project-type": "نوع المشروع",
    "select-project-type": "اختر نوع المشروع",
    "product-design-option": "تصميم المنتج",
    "web-development-option": "تطوير الويب",
    "technical-strategy-option": "الاستراتيجية التقنية",
    "other-option": "آخر",
    "project-details": "تفاصيل المشروع",
    "project-details-placeholder":
      "أخبرنا عن مشروعك، الجدول الزمني، والميزانية...",
    "send-message": "أرسل رسالة",
    "footer-tagline":
      "استوديو تقني إبداعي يبني منتجات رقمية استثنائية من خلال شراكة التصميم والهندسة.",
    "services-footer": "الخدمات",
    "product-design-footer": "تصميم المنتج",
    "frontend-engineering-footer": "هندسة الواجهات الأمامية",
    "technical-strategy-footer": "الاستراتيجية التقنية",
    "design-systems-footer": "أنظمة التصميم",
    studio: "الاستوديو",
    home: "الرئيسية",
    "work-footer": "أعمالنا",
    "process-footer": "منهجيتنا",
    "contact-footer": "اتصل بنا",
    connect: "تواصل",
    "rights-reserved": "AM Social Lab. جميع الحقوق محفوظة.",
  },
  en: {
    title: "AM Social Lab — Creative · Technical Cooperation",
    description:
      "AM Social Lab — design-driven engineering and cooperative product teams.",
    services: "Services",
    work: "Work",
    "work-title": "Our Work",
    "work-subtitle": "A selection of projects that we're proud of.",
    "design-work-title": "Our Design Work",
    "design-work-subtitle":
      "A selection of our design projects we're proud of.",
    process: "Process",
    "start-project": "Start a Project",
    "hero-h1":
      "We build digital products at the intersection of design & engineering",
    "hero-description":
      "AM Social Lab is a creative technical studio that partners with startups and established teams to design, build, and scale exceptional digital experiences.",
    "view-work": "View Our Work",
    "projects-dashboard": "Projects Dashboard",
    satisfaction: "Satisfaction",
    "projects-count": "Projects",
    support: "Support",
    "our-services": "Our Services",
    "product-design": "Product Design",
    "product-design-desc":
      "End-to-end product design from user research to high-fidelity prototypes and design systems.",
    figma: "Figma",
    prototyping: "Prototyping",
    "design-systems": "Design Systems",
    "frontend-engineering": "Frontend Engineering",
    "frontend-engineering-desc":
      "Production-ready React applications with performance optimization and modern tooling.",
    react: "React",
    "next-js": "Next.js",
    typescript: "TypeScript",
    "technical-strategy": "Technical Strategy",
    "technical-strategy-desc":
      "Architecture planning, tech stack selection, and scalability consulting for growth-stage products.",
    architecture: "Architecture",
    scalability: "Scalability",
    devops: "DevOps",
    "featured-projects": "Featured Projects",
    "nexus-platform": "Nexus Platform",
    "nexus-platform-desc":
      "A comprehensive SaaS platform for data visualization with real-time collaboration features.",
    webgl: "WebGL",
    "real-time": "Real-time",
    "flow-finance": "Flow Finance",
    "flow-finance-desc":
      "Mobile-first banking application with advanced security features and intuitive UX.",
    "react-native": "React Native",
    security: "Security",
    fintech: "FinTech",
    "view-case-study": "View Case Study",
    "our-process": "Our Process",
    discover: "Discover",
    "discover-desc":
      "Deep dive into your business goals, users, and technical constraints.",
    design: "Design",
    "design-desc": "Create user flows, wireframes, and interactive prototypes.",
    develop: "Develop",
    "develop-desc":
      "Build with modern technologies, following best practices and agile methodologies.",
    deliver: "Deliver",
    "deliver-desc": "Thorough testing, deployment, and ongoing optimization.",
    "cta-title": "Ready to build something exceptional?",
    "cta-description":
      "Let's discuss your project and explore how we can bring your vision to life with technical excellence and creative insight.",
    "start-conversation": "Start a Conversation",
    "get-in-touch": "Get in Touch",
    "your-name": "Your Name",
    "email-address": "Email Address",
    "project-type": "Project Type",
    "select-project-type": "Select a project type",
    "product-design-option": "Product Design",
    "web-development-option": "Web Development",
    "technical-strategy-option": "Technical Strategy",
    "other-option": "Other",
    "project-details": "Project Details",
    "project-details-placeholder":
      "Tell us about your project, timeline, and budget...",
    "send-message": "Send Message",
    "footer-tagline":
      "Creative technical studio building exceptional digital products through design and engineering partnership.",
    "services-footer": "Services",
    "product-design-footer": "Product Design",
    "frontend-engineering-footer": "Frontend Engineering",
    "technical-strategy-footer": "Technical Strategy",
    "design-systems-footer": "Design Systems",
    studio: "Studio",
    home: "Home",
    "work-footer": "Work",
    "process-footer": "Process",
    "contact-footer": "Contact",
    connect: "Connect",
    "rights-reserved": "AM Social Lab. All rights reserved.",
  },
};

const langSwitch = document.getElementById("lang-switch");

const setLanguage = (lang) => {
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
  document.querySelectorAll("[data-key]").forEach((elem) => {
    const key = elem.getAttribute("data-key");
    if (translations[lang] && translations[lang][key]) {
      if (elem.tagName === "INPUT" || elem.tagName === "TEXTAREA") {
        if (elem.placeholder) elem.placeholder = translations[lang][key];
      } else {
        elem.textContent = translations[lang][key];
      }
    }
  });

  if (lang === "ar") {
    document.getElementById("lang-ar").classList.add("active");
    document.getElementById("lang-en").classList.remove("active");
  } else {
    document.getElementById("lang-en").classList.add("active");
    document.getElementById("lang-ar").classList.remove("active");
  }
};

langSwitch.addEventListener("click", (e) => {
  if (e.target.id === "lang-ar") {
    setLanguage("ar");
  } else if (e.target.id === "lang-en") {
    setLanguage("en");
  }
});

// Set default language
setLanguage("ar");

// Set current year in footer
document.getElementById("currentYear").textContent = new Date().getFullYear();

// Navbar scroll effect
window.addEventListener("scroll", function () {
  const nav = document.getElementById("mainNav");
  if (window.scrollY > 50) {
    nav.classList.add("scrolled");
  } else {
    nav.classList.remove("scrolled");
  }
});

// Scroll animation
const observerOptions = {
  threshold: 0.1,
  rootMargin: "0px 0px -50px 0px",
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      entry.target.classList.add("visible");
    }
  });
}, observerOptions);

// Observe all elements with animate-on-scroll class
document.querySelectorAll(".animate-on-scroll").forEach((el) => {
  observer.observe(el);
});

// Form submission
const contactForm = document.getElementById("contactForm");
if (contactForm) {
  contactForm.addEventListener("submit", function (e) {
    e.preventDefault();

    // Get form values
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;

    // Simple validation
    if (!name || !email) {
      alert("Please fill in all required fields.");
      return;
    }

    // In a real application, you would send this data to a server
    // For now, just show a success message
    const submitBtn = this.querySelector('button[type="submit"]');
    const originalText = submitBtn.innerHTML;

    submitBtn.innerHTML = "Message Sent!";
    submitBtn.style.background = "linear-gradient(90deg, #00ff88, #00cc6a)";

    setTimeout(() => {
      submitBtn.innerHTML = originalText;
      submitBtn.style.background = "";
      document.getElementById("contactForm").reset();
    }, 3000);
  });
}

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener("click", function (e) {
    e.preventDefault();

    const targetId = this.getAttribute("href");
    if (targetId === "#") return;

    const targetElement = document.querySelector(targetId);
    if (targetElement) {
      window.scrollTo({
        top: targetElement.offsetTop - 100,
        behavior: "smooth",
      });
    }
  });
});

// Image Modal Functionality
const imageModal = document.getElementById("imageModal");
const modalImage = document.getElementById("modalImage");
const modalCaption = document.getElementById("modalCaption");
const closeModalBtn = document.querySelector(".close-modal-btn");

if (imageModal) {
  function openImageInModal(imgElement) {
    imageModal.style.display = "flex";
    modalImage.src = imgElement.src;
    modalCaption.textContent = imgElement.alt;
    document.body.style.overflow = "hidden";
  }

  function closeImageModal() {
    imageModal.style.display = "none";
    document.body.style.overflow = "auto";
  }

  document
    .querySelectorAll(".photo-grid-item img, .carousel-slide img")
    .forEach((img) => {
      img.style.cursor = "pointer";
      img.addEventListener("click", () => openImageInModal(img));
    });

  closeModalBtn.addEventListener("click", closeImageModal);
  imageModal.addEventListener("click", (event) => {
    if (event.target === imageModal) closeImageModal();
  });
}

// Theme toggle
const themeToggle = document.getElementById("theme-toggle");
const body = document.body;
const logoImgs = document.querySelectorAll(".logo-icon img");

const applyTheme = (theme) => {
  if (theme === "light") {
    body.classList.add("light-mode");
    logoImgs.forEach((img) => (img.src = "logo-dark.svg"));
  } else {
    body.classList.remove("light-mode");
    logoImgs.forEach((img) => (img.src = "logo-white.svg"));
  }
};

if (themeToggle) {
  themeToggle.addEventListener("click", () => {
    const isLight = body.classList.toggle("light-mode");
    const theme = isLight ? "light" : "dark";
    localStorage.setItem("theme", theme);
    applyTheme(theme);
  });

  // On page load
  const savedTheme = localStorage.getItem("theme") || "dark";
  applyTheme(savedTheme);
}

// Burger menu toggle
const burgerMenu = document.getElementById("burger-menu");
const navLinks = document.getElementById("nav-links");

burgerMenu.addEventListener("click", () => {
  navLinks.classList.toggle("active");
});
